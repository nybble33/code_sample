<!DOCTYPE html>
<html>
<head>
    <title>Kitchen</title>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>


<!-- jQuery Modal -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />

<style type="text/css">

.sprite, .nul_sprite{
    cursor: pointer;
    /*background-color: #fff;*/
    fill: #fff;
    opacity: 0;
}
.nul_sprite{
    cursor: default;
    fill: #c00;
    opacity: .4;
}
.sprite:hover{
    opacity: .5;
}
.sprite_txt{
    display: none;
}
.sprite_text{
    display: inline-block;
}
.red_li{
    color: #f00;
}
#sprites_list li{
    display: block;
    padding: 5px 10px;
    float: left;
}
</style>
</head>
<body>
<h1>Kitchen picture.</h1>

<!--<div id='show_sprites'>Show all sprites</div>-->

<div class='map'>

<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="562px" height="389px" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
viewBox="0 0 504.54 349.39"
 xmlns:xlink="http://www.w3.org/1999/xlink">
 <defs>
  <style type="text/css">
   <![CDATA[
    .str0 {stroke:black;stroke-width:2.12;stroke-miterlimit:22.9256}
    .str1 {stroke:black;stroke-width:2.12;stroke-miterlimit:22.9256}
    .fil0 {fill:none}
   ]]>
  </style>
   <clipPath id="id0">
    <rect width="504.54" height="348.33"/>
   </clipPath>
 </defs>
 <g id="Слой_x0020_1">
  <metadata id="CorelCorpID_0Corel-Layer"/>
  <g style="clip-path:url(#id0)">
   <image x="0" y="0" width="504.54" height="348.33" xlink:href="/static/images/kitchen_f_Images/kitchen_f_ImgID1.jpg"/>
  </g>
  <path class="sprite" word='cabbage' trans_word='a cabbage' d="M251.37 233.42c22.81,0 41.3,18.49 41.3,41.3 0,22.8 -18.49,41.29 -41.3,41.29 -22.8,0 -41.29,-18.49 -41.29,-41.29 0,-22.81 18.49,-41.3 41.29,-41.3z"/>
  <path class="sprite" word='cucumber' trans_word='a cucumber' trans_word='cucumber' d="M150.06 320.29c14.96,-11.22 9.82,-6.54 24.31,-12.62 14.5,-6.08 17.77,-9.82 19.64,-4.21 1.87,5.61 -0.93,8.88 -0.93,8.88l-6.55 7.95 -9.82 5.15 -14.03 7.01 -10.75 2.81 -5.14 0 -3.28 -5.61 6.55 -9.36z"/>
  <path class="sprite" word='tomato' trans_word='a tomato' d="M119.82 322.56c8.66,3.04 9.36,1.4 18.01,0.46 8.65,-0.93 10.28,-5.14 7.95,-14.49 -2.34,-9.35 -2.34,-9.35 -2.34,-9.35l-6.78 -5.38 -8.65 -1.4 -7.02 0.7 -6.78 -1.87 -6.31 2.34 -3.51 5.61 0.24 5.61 0.47 4.91 0.7 2.57 4.67 0.93 5.38 0 2.57 2.11 0.94 3.97 0.46 3.28z"/>
  <polygon class="sprite" word='garlic' trans_word='a garlic' points="85.69,318.82 87.33,325.36 93.17,329.1 95.04,334.25 96.45,339.16 101.12,342.2 107.9,342.43 112.58,339.86 116.32,336.12 121,334.72 125.2,332.38 121.46,329.81 119.83,327 118.66,324.66 119.59,320.92 117.2,314.9 113.16,313.2 105.16,312.91 102.06,313.21 98.79,314.84 95.51,317.65 90.6,318.12 "/>
  <polygon class="sprite" word='fridge' trans_word='a fridge' points="52.76,67.63 134.12,69.5 161.24,81.66 159.37,173.31 142.14,177.33 127.55,185.82 114.48,201.36 115.56,221.45 129.17,242.54 143.46,246.07 142.39,255.12 123.71,272.75 120.88,292.12 110.48,289.88 102.32,296.44 102.53,302.82 68.66,303 22.44,333.2 13.72,333.25 16.11,99.89 64.71,77.03 "/>
  <polygon class="sprite" word='oil' points="55.18,293.04 55.18,282.75 54.71,277.84 54.71,275.51 53.31,273.4 53.54,271.06 54.48,267.44 54.83,262.53 55.06,251.77 49.33,246.98 49.45,242.66 44.54,242.07 40.45,243.24 40.45,246.63 35.07,252.24 35.66,268.84 38.7,270.83 39.05,274.92 36.01,277.73 36.95,295.14 36.48,299.12 39.05,302.27 "/>
  <polygon class="sprite" word='egg' trans_word='an egg' points="34.61,161.3 38.58,160.01 39.17,156.39 36.95,153.46 34.72,152.29 32.04,154.28 29.46,157.44 29.7,160.71 "/>
  <polygon class="sprite" word='egg' trans_word='an egg' points="44.55,156.76 44.55,153.49 43.08,150.63 41.21,149.98 39.05,150.51 37.94,152.15 37.65,153.9 39.17,156.39 41.91,157.99 "/>
  <polygon class="sprite" word='egg' trans_word='an egg' points="49.98,154.13 49.81,151.27 48.23,148.93 46.36,147.47 44.6,148.23 43.38,151.21 44.55,153.49 46.65,155.42 "/>
  <polygon class="sprite" word='egg' trans_word='an egg' points="56.64,150.8 56.29,146.83 57.99,144.14 60.39,142.27 63.72,144.2 64.13,146.95 64.01,148.64 60.39,150.16 "/>
  <polygon class="sprite" word='cheese' points="99.96,177.75 121.71,177.05 128.72,177.05 133.86,177.75 142.75,165.13 131.52,160.45 117.03,151.1 108.38,154.14 99.26,154.6 103.47,162.79 104.41,165.36 94.82,164.89 84.3,176.11 "/>
  <polygon class="sprite" word='milk' points="88.97,139.88 92.01,137.54 91.9,134.85 81.03,134.73 80.32,138.36 82.55,139.76 78.92,146.66 79.97,160.57 86.65,161.27 89.92,164.07 90.74,167.7 92.96,165.47 92.84,145.25 89.41,139.54 "/>
  <ellipse class="sprite" word='clock' trans_word='a clock' cx="81.98" cy="30.46" rx="36.71" ry="23.61"/>
  <path class="sprite" word='carrot' trans_word='a carrot' d="M323.55 339.5l24.78 -1.4 12.62 1.4 17.77 -0.94c0,0 4.44,-0.23 6.31,-3.15 1.87,-2.93 1.76,-5.5 0.94,-9.24 -0.82,-3.74 -7.37,-5.26 -8.77,-5.84 -1.4,-0.59 -4.09,-1.52 -10.29,1.63 -6.19,3.16 -8.41,4.45 -8.41,4.45l-7.95 -0.12 -9.01 5.14 -11.92 3.51 -6.07 4.56z"/>
  <path class="sprite" word='knife' trans_word='a knife' d="M324.94 267.61l-2.11 -2.11 -2.16 1.81 -27.36 -19.99c0,0 0.71,8.53 4.1,11.69 3.39,3.16 6.66,7.6 8.76,9.59 2.11,1.98 4.33,0.81 4.33,0.81 0,0 1.4,-0.11 3.62,1.41 2.22,1.52 2.57,1.75 2.57,1.75l1.41 2.57 2.22 0 26.89 13.21 1.52 -5.26 -25.14 -13.56 1.35 -1.92z"/>
  <polygon class="sprite" word='shelf' trans_word='a shelf' points="134.12,69.5 132.81,10.71 153.38,3.69 278.23,4.16 276.36,194.94 256.72,209.9 239.89,213.17 234.28,220.19 225.86,220.19 186.12,220.19 184.71,207.09 189.39,197.27 179.1,185.12 171.15,176.23 159.37,173.31 161.24,81.66 "/>
  <path class="sprite" word='apple' trans_word='an apple' d="M77.65 161.5l-4.8 3.51 -0.46 6.54c0,0 7.13,5.96 6.31,6.2 -0.82,0.23 4.67,0.35 4.67,0.35l7.78 -10.82 -4.5 -6.01 -9 0.23z"/>
  <path class="sprite" word='plates' trans_word='plates<br>dishes' d="M161.07 90.33c0,0 2.49,-5.39 5.06,-6.79 2.57,-1.4 6.31,0.47 6.31,1.87 0,1.4 2.22,-3.39 4.09,-3.27 1.87,0.11 4.45,2.1 5.03,3.39 0.58,1.28 1.64,-3.51 4.56,-3.04 2.92,0.47 4.32,2.57 4.56,3.51 0.23,0.93 1.63,-4.21 4.32,-3.98 2.69,0.23 5.97,3.51 6.32,7.25 0.35,3.74 3.74,20.69 3.03,23.96 -0.7,3.28 -2.8,25.02 -4.9,27.36 -2.11,2.33 -1.53,4.2 -5.38,4.56 -3.86,0.35 -4.33,-3.28 -4.33,-3.28 0,0 -2.92,4.33 -4.32,3.28 -1.41,-1.06 -4.21,-3.28 -4.21,-3.28 0,0 -1.52,3.04 -3.74,3.16 -2.22,0.12 -5.5,-3.27 -5.5,-3.27 0,0 -2.22,3.15 -3.5,3.15 -1.29,0 -3.98,-1.4 -4.91,-3.15 -0.94,-1.76 -3.43,-5.62 -3.43,-5.62l0.94 -45.81z"/>
  <path class="sprite" word='cup' trans_word='a cup, cups' d="M234.86 143.51c0,0 1.41,3.27 6.79,2.57 5.37,-0.7 7.48,-1.4 7.94,-2.81 0.47,-1.4 -2.8,-2.68 -2.8,-2.68l3.51 -3.39 10.17 -7.72 0 -3.15 -4.1 -1.76 -2.57 -0.23 -1.52 -3.86 1.52 -4.79 -0.35 -5.15 -1.99 -2.68 -2.92 0.81 -2.1 -1.98 -4.44 -0.24 -9.47 3.74 -4.21 3.86 0.35 4.44 1.87 3.63 -1.64 4.56 1.87 6.31 5.5 7.01 -1.41 3.51z"/>
  <path class="sprite" word='teapot' trans_word='a teapot' d="M160.16 35.72l4.45 4.21 2.33 9.35 3.75 5.15c0,0 -1.41,2.34 3.27,8.18 4.67,5.85 14.73,6.08 14.73,6.08 0,0 13.79,-3.27 16.36,-5.38 2.57,-2.1 1.87,-3.74 1.87,-3.74 0,0 8.19,-2.34 10.29,-5.14 2.1,-2.81 2.34,-10.52 0.23,-11.93 -2.1,-1.4 -7.71,-8.65 -7.71,-8.65l-3.51 0 -3.51 4.21 0.94 -7.01 -1.87 -3.28 -5.14 -2.8 -3.74 -3.98 -6.08 -0.46 -8.65 7.48 -3.51 1.64 1.17 3.74 0.7 2.8 -0.23 2.57 -6.78 -5.37 -5.15 -1.41 -4.21 3.74z"/>
  <path class="sprite" word='sugarbowl' trans_word='a sugarbowl' d="M241.52 39c0,0 -5.61,1.17 -4.91,3.04 0.7,1.87 3.28,4.44 3.28,4.44l-2.34 3.04c0,0 -2.34,-3.98 -4.68,-2.92 -2.34,1.05 -3.62,2.22 -2.1,6.43 1.52,4.2 3.85,5.84 3.85,5.84 0,0 -1.4,2.1 2.93,6.78 4.32,4.68 10.52,4.56 10.52,4.56 0,0 7.95,1.87 15.19,-3.74 7.25,-5.61 5.15,-9 5.5,-8.53 0.35,0.46 3.04,-6.55 3.04,-6.55 0,0 0.23,-2.46 -2.46,-4.44 -2.69,-1.99 -4.32,1.63 -4.32,1.63l-3.16 -2.68 3.74 -3.98 -2.92 -3.04 -3.74 -1.52 -3.27 -2.45 -2.81 -1.29 -6.43 1.29 -4.91 4.09z"/>
  <path class="sprite" word='onion' tans_word='an onion' d="M150.1 311.72l4.44 -6.78 9.82 0.82 11.46 -5.85 -0.35 -7.48 -5.61 -5.49c0,0 -1.4,-3.51 -6.9,-4.68 -5.49,-1.17 -10.05,1.99 -10.05,1.99l-1.41 10.28 -0.93 7.84 -0.47 9.35z"/>
  <polygon class="sprite" word='stove' trans_word='a stove' points="474.02,174.83 398.74,174.13 402.25,200.78 396.64,215.74 386.35,221.35 379.8,262.97 382.14,289.15 472.85,289.15 "/>
  <path class="sprite" word='pan' trans_word='a pan' d="M452.16 156.47c-3.07,-0.22 -32.85,-1.63 -30.74,6.32 2.1,7.95 20.57,6.78 26.42,6.54 5.84,-0.23 20.57,-2.57 20.57,-2.57l19.4 3.51 5.85 -3.04 -0.47 -5.38 -21.51 0c-2.49,-1.25 -4.05,-2.56 -7.48,-3.74 -3.42,-1.18 -8.96,-1.41 -12.04,-1.64z"/>
  <path class="sprite" word='coffeepot' trans_word='a coffee pot' d="M402.47 172.66c7.02,-0.46 14.5,-4.44 14.5,-4.44l-2.8 -10.99c0,0 3.73,-3.27 3.73,-6.07 0,-2.81 -0.13,-9.67 0.24,-13.1 0.37,-3.42 2.1,-2.57 1.64,-3.74 -0.47,-1.17 0.58,0.12 0.58,0.12l0.41 -3.16 -1.93 -0.64c0,0 -4.79,8.94 -4.97,9.53 -0.17,0.58 -2.51,3.62 -2.51,3.62l-0.64 -5.26 -7.14 -6.72 -0.81 -3.86 -4.85 -0.82 -2.05 5.44 -7.13 6.08 4.79 13.5 5.38 14.73 -0.17 7.25 3.73 -1.47z"/>
  <path class="sprite" word='pot' trans_word='a pot' d="M414.92 134.85l0 -4.91c0,0 -5.61,1.64 -6.78,-2.34 -1.17,-3.97 5.84,-3.27 5.84,-3.27l0.24 -3.28c0,0 1.17,-3.97 3.5,-3.97 2.34,0 19.41,-2.1 19.41,-2.1 0,0 16.36,0.93 17.77,3.03 1.4,2.11 -1.87,4.68 -1.87,4.68l1.63 3.51c0,0 9.12,-0.47 9.36,1.87 0.23,2.34 -1.88,6.08 -6.08,6.31 -4.21,0.23 -4.21,0.23 -4.21,0.23l-0.26 21.95 -22.63 0.45c0,0 -9.94,-0.65 -9.42,5.78 0.51,6.42 0.28,3.62 0.28,3.62l-5.32 -0.48 -2.21 -8.7 3.73 -6.07 0.24 -13.1 -3.22 -3.21z"/>
  <polygon class="sprite" word='stool' trans_word='a stool' points="404.16,300.6 461.67,301.54 488.32,329.13 488.79,338.48 483.65,338.48 483.65,348.33 474.3,348.33 474.76,342.69 436.42,343.62 436.42,348.33 423.8,348.33 424.73,343.62 411.64,327.26 404.63,321.65 406.03,313.23 403.81,309.96 "/>
 </g>
</svg>


</div>

<script type="text/javascript">

$.fn.hasAttr = function(name) {  
   return this.attr(name) !== undefined;
};
//absolute
draw_fade = function(){
    $('body').append('<div id="mn_fade" style="position:fixed; top:0; left:0; background-color:#000; opacity:.7; width:100%; height:100%; text-align:center;"></div>');
    $('#mn_fade').click(function(){
        $(this).remove();
    });
}

fill_fade = function(text){
    $('#mn_fade').html("<div style='display:inline-block; width:50%; height:30%; background-color:#FFF; position:relative; top:50%; transform:perspective(1px) translateY(-50%);'><p style='margin:auto; position:relative; top:50%; transform: perspective(1px) translateY(-50%); color: #000; font-size:3em;'>"+text+"</p></div>");
}

verbose_word = function(sh){
    if (sh.hasAttr('trans_word')){
        return sh.attr('trans_word');
    }else{
        return sh.attr('word');
    }
}

open_nmodal = function(sh){
    draw_fade();
    if (sh.hasAttr('trans_word')){
        fill_fade(sh.attr('trans_word'))
    } else {
        if (sh.hasAttr('word')){
            fill_fade(sh.attr('word'));
        } else {
            if (sh.hasAttr('txt_dom')){
              fill_fade($('#'+sh.attr('txt_dom')).html());
            } else {
                fill_fade('not defined');
            }
        }
    }
};

turn_off_sprite = function(elem_word){
    selector = "[word='"+elem_word+"']"
    $(selector).each(function(){
        $(this).attr('class', 'nul_sprite');
        $(this).off('click');
    });
};

highlight_list_el = function(list_name){
    li_selector = '#sprites_list li#'+list_name;
    $(li_selector).attr('class', 'red_li');
};

    $('.sprite').on('click', function(e){
        open_nmodal($(this));
        turn_off_sprite($(this).attr('word'));
        highlight_list_el($(this).attr('word'));
    });

    function contains(arr, elem) {
        return arr.indexOf(elem) != -1;
    }

    show_sprites = function(){
        $('.map').append('<ul id="sprites_list"></ul>');
        s_list = $('#sprites_list');
        my_sprites = new Array();
        $('.sprite').each(function(index, el){
            this_word = $(el).attr('word');
            if (!contains(my_sprites, this_word)){
              my_sprites.push(this_word);
              s_list.append('<li id="'+this_word+'">'+verbose_word($(el))+'</li>');
            };
        });
    }

show_sprites();

</script>
</body>
</html>